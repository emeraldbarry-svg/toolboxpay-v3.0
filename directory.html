<!DOCTYPE html>
<html lang="en-GB">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Customer Directory | Toolbox Pay</title>
    <style>
        body { background-color: #000; margin: 0; display: flex; justify-content: center; align-items: flex-start; min-height: 100vh; font-family: sans-serif; color: #fff; padding-top: 20px; }
        .card { background-color: #1a1a1a; border: 2px solid #FFA500; border-radius: 40px; padding: 30px; text-align: center; max-width: 500px; width: 90%; margin-bottom: 40px; }
        .orange { color: #FFA500; }
        .input-group { text-align: left; margin-bottom: 12px; }
        label { display: block; margin-bottom: 5px; font-size: 12px; color: #888; text-transform: uppercase; letter-spacing: 1px; }
        input, textarea { width: 100%; padding: 12px; border-radius: 10px; border: 1px solid #333; background: #222; color: #fff; box-sizing: border-box; font-size: 15px; }
        textarea { height: 60px; resize: none; font-family: sans-serif; }
        .btn { display: block; width: 100%; background-color: #FFA500; color: #000; padding: 15px; border-radius: 15px; border: none; font-weight: bold; font-size: 16px; cursor: pointer; margin-top: 15px; text-decoration: none; text-align: center; }
        .btn-secondary { background-color: #333; color: #fff; font-size: 13px; margin-top: 10px; }
        .customer-list { margin-top: 30px; text-align: left; border-top: 1px solid #333; padding-top: 20px; }
        .customer-item { background: #222; border: 1px solid #444; padding: 15px; border-radius: 20px; margin-bottom: 15px; position: relative; }
        .customer-item b { font-size: 18px; color: #FFA500; display: block; margin-bottom: 5px; }
        .customer-item p { margin: 3px 0; font-size: 13px; color: #ccc; }
        .contact-actions { margin-top: 10px; display: flex; gap: 10px; }
        .action-link { font-size: 12px; color: #FFA500; text-decoration: none; border: 1px solid #FFA500; padding: 4px 8px; border-radius: 5px; text-transform: uppercase; }
    </style>
</head>
<body>
    <div class="card">
        <div style="font-size: 24px; font-weight: bold; margin-bottom: 20px;"><span class="orange">toolbox</span>pay</div>
        
        <div class="input-group">
            <label>Full Name</label>
            <input type="text" id="clientName" placeholder="e.g. David Harrison">
        </div>
        
        <div class="input-group">
            <label>Phone Number</label>
            <input type="tel" id="clientPhone" placeholder="e.g. 07700 900123">
        </div>

        <div class="input-group">
            <label>Site Address</label>
            <textarea id="clientAddress" placeholder="Full address for site visits"></textarea>
        </div>

        <button class="btn" onclick="addCustomer()">Add to Directory</button>
        <a href="index.html" class="btn btn-secondary">Back to Dashboard</a>

        <div class="customer-list" id="customerList">
            </div>
    </div>

    <script>
        function addCustomer() {
            const name = document.getElementById('clientName').value;
            const phone = document.getElementById('clientPhone').value;
            const address = document.getElementById('clientAddress').value;

            if(!name) {
                alert("Please enter a customer name.");
                return;
            }

            const clients = JSON.parse(localStorage.getItem('tbClients')) || [];
            clients.push({ name, phone, address });
            localStorage.setItem('tbClients', JSON.stringify(clients));
            
            renderDirectory();
            
            // Clear fields after adding
            document.getElementById('clientName').value = '';
            document.getElementById('clientPhone').value = '';
            document.getElementById('clientAddress').value = '';
        }

        function renderDirectory() {
            const clients = JSON.parse(localStorage.getItem('tbClients')) || [];
            const list = document.getElementById('customerList');
            list.innerHTML = '';
            
            if(clients.length === 0) {
                list.innerHTML = '<p style="text-align:center; color:#666;">Your directory is empty.</p>';
                return;
            }

            clients.slice().reverse().forEach((c) => {
                list.innerHTML += `
                    <div class="customer-item">
                        <b>${c.name}</b>
                        <p>üìû ${c.phone || 'No phone recorded'}</p>
                        <p>üìç ${c.address || 'No address recorded'}</p>
                        <div class="contact-actions">
                            ${c.phone ? `<a href="tel:${c.phone}" class="action-link">Call</a>` : ''}
                            ${c.phone ? `<a href="sms:${c.phone}" class="action-link">Message</a>` : ''}
                        </div>
                    </div>
                `;
            });
        }
        // Initial load
        renderDirectory();
    </script>
</body>
</html>

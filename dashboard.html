<!DOCTYPE html>
<html lang="en-GB">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Toolbox Pay | Command Centre</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        :root { --toolbox-orange: #FF9500; --bg-midnight: #141D36; }
        body { 
            background-color: var(--bg-midnight); color: #FFFFFF; 
            font-family: 'Inter', sans-serif; margin: 0; padding: 15px; 
            display: flex; flex-direction: column; align-items: center;
            min-height: 100vh;
        }
        .main-container { width: 100%; max-width: 480px; display: flex; flex-direction: column; gap: 16px; }
        
        /* LARGER MENU BUTTONS */
        .nav-card { 
            background: #1E293B; 
            border: 2px solid rgba(255, 149, 0, 0.3); 
            border-radius: 24px; 
            padding: 28px 20px; 
            display: flex; 
            align-items: center; 
            gap: 20px; 
            text-decoration: none;
            transition: 0.2s;
        }
        .nav-card:active { transform: scale(0.97); background: #26344d; }
        
        .icon-box { 
            width: 65px; height: 65px; 
            background: rgba(255, 149, 0, 0.15); 
            border-radius: 18px; 
            display: flex; 
            align-items: center; 
            justify-content: center; 
            color: var(--toolbox-orange); 
            font-size: 32px; 
        }
        .nav-text-main { font-weight: 900; color: #FFFFFF; text-transform: uppercase; font-size: 17px; letter-spacing: -0.02em; }
        .nav-text-sub { font-size: 13px; color: #94A3B8; font-weight: 700; text-transform: uppercase; letter-spacing: 0.05em; margin-top: 2px; }

        /* OVERRIDE BUTTON FOR PREVIEW */
        .override-panel {
            background: rgba(255, 149, 0, 0.1);
            border: 1px dashed var(--toolbox-orange);
            padding: 15px;
            border-radius: 12px;
            margin-bottom: 20px;
            text-align: center;
        }
    </style>
</head>
<body onload="checkSystemAccess()">

    <div class="main-container">
        <div id="overrideNotice" class="override-panel">
            <p class="text-[10px] font-black uppercase text-[#FF9500] mb-2">System Initialisation Required</p>
            <button onclick="forceAccess()" class="bg-[#FF9500] text-black text-[10px] font-black px-4 py-2 rounded uppercase">Force System Access</button>
        </div>

        <header class="text-center pt-8 pb-10">
            <h1 class="text-5xl font-black uppercase tracking-tighter mb-1">
                <span style="color: #FF9500;">TOOLBOX</span><span style="color: #FFFFFF;">PAY</span>
            </h1>
            <div style="color: #94A3B8;" class="font-black tracking-[0.4em] text-[10px] uppercase">Command Centre</div>
        </header>

        <a href="index.html" class="nav-card">
            <div class="icon-box">üí∞</div>
            <div>
                <div class="nav-text-main">New Settlement</div>
                <div class="nav-text-sub">Calculate labour & costs</div>
            </div>
        </a>

        <a href="setup.html" class="nav-card">
            <div class="icon-box">‚öíÔ∏è</div>
            <div>
                <div class="nav-text-main">Business Profile</div>
                <div class="nav-text-sub">Bank details & QR Code</div>
            </div>
        </a>

        <a href="gateway.html" onclick="logout()" class="nav-card opacity-60">
            <div class="icon-box">üîí</div>
            <div>
                <div class="nav-text-main">Lock System</div>
                <div class="nav-text-sub">Secure local records</div>
            </div>
        </a>
    </div>

    <script>
        function checkSystemAccess() {
            const auth = sessionStorage.getItem('toolboxAuthenticated');
            if (auth === 'true') {
                document.getElementById('overrideNotice').style.display = 'none';
            }
        }

        function forceAccess() {
            // Force authentication and set a default PIN
            sessionStorage.setItem('toolboxAuthenticated', 'true');
            localStorage.setItem('toolboxUserPin', '1234');
            localStorage.setItem('toolboxSetupComplete', 'true');
            alert("System Initialised. Default PIN set to 1234.");
            location.reload();
        }

        function logout() {
            sessionStorage.removeItem('toolboxAuthenticated');
        }
    </script>
</body>
</html>

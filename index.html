<!DOCTYPE html>
<html lang="en-GB">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>toolboxpay v3.7 - Flat Build</title>
    <style>
        :root { --org: #ff6600; --bg: #0b1521; --crd: #1a2635; }
        * { box-sizing: border-box; margin: 0; padding: 0; font-family: sans-serif; }
        body { background: var(--bg); color: #fff; padding: 20px; line-height: 1.6; }
        .shell { max-width: 400px; margin: 0 auto; }
        .logo { text-align: center; margin-bottom: 30px; font-size: 30px; font-weight: 800; }
        .logo span { color: var(--org); }
        
        /* Section Styling */
        .section { background: var(--crd); border: 1px solid #233554; border-radius: 12px; padding: 20px; margin-bottom: 25px; }
        .tag { color: var(--org); font-size: 11px; font-weight: 800; text-transform: uppercase; margin-bottom: 15px; display: block; border-bottom: 1px solid rgba(255,102,0,0.2); padding-bottom: 5px; }
        
        input, textarea { width: 100%; padding: 12px; background: #0b1521; border: 1px solid #233554; color: #fff; margin-bottom: 12px; border-radius: 6px; font-size: 16px; outline: none; }
        input:focus { border-color: var(--org); }
        
        .vat-row { display: flex; justify-content: space-between; align-items: center; margin: 10px 0; }
        .total-box { border: 2px solid var(--org); padding: 15px; border-radius: 8px; text-align: right; background: rgba(255,102,0,0.05); margin-top: 10px; }
        .price { color: var(--org); font-size: 24px; font-weight: 800; display: block; }
        
        .btn-main { width: 100%; padding: 15px; background: var(--org); border: none; color: white; border-radius: 8px; cursor: pointer; font-weight: 800; text-transform: uppercase; margin-top: 10px; }
        
        .summary-box { background: #fff; color: #333; padding: 20px; border-radius: 8px; margin-top: 15px; font-size: 14px; }
        .summary-row { display: flex; justify-content: space-between; margin-bottom: 5px; }
        .summary-total { border-top: 2px solid #eee; margin-top: 10px; padding-top: 10px; font-weight: 800; color: var(--org); font-size: 18px; }
    </style>
</head>
<body>

<div class="shell">
    <div class="logo"><span>toolbox</span>pay <small style="font-size: 10px; color: #8892b0;">v3.7</small></div>

    <div class="section">
        <span class="tag">Business Details</span>
        <input type="text" id="biz-name" placeholder="Business Name" oninput="save('biz-name', this.value); updateSum()">
        <textarea id="biz-addr" placeholder="Address" oninput="save('biz-addr', this.value); updateSum()"></textarea>
    </div>

    <div class="section">
        <span class="tag">Bank Details</span>
        <input type="text" id="bank-acc" placeholder="Account Name" oninput="save('bank-acc', this.value); updateSum()">
        <input type="text" id="bank-sort" placeholder="Sort Code" oninput="save('bank-sort', this.value); updateSum()">
        <input type="text" id="bank-num" placeholder="Account Number" oninput="save('bank-num', this.value); updateSum()">
    </div>

    <div class="section">
        <span class="tag">Labour & Materials</span>
        <input type="number" id="h" placeholder="Hours" oninput="updateSum()">
        <input type="number" id="r" placeholder="Rate (£)" oninput="updateSum()">
        <input type="number" id="m" placeholder="Materials (£)" oninput="updateSum()">
        <div class="vat-row">
            <span>Add 20% VAT</span>
            <input type="checkbox" id="v-tog" onchange="updateSum()" style="width:20px; height:20px;">
        </div>
        <div class="total-box">
            <span style="font-size:10px; color:#8892b0;">ESTIMATED TOTAL:</span>
            <span id="res" class="price">£0.00</span>
        </div>
    </div>

    <div class="section">
        <span class="tag">Final Quote Summary</span>
        <div class="summary-box">
            <b id="s-biz">Business Name</b>
            <div id="s-addr" style="font-size:12px; color:#666; margin-bottom:10px;">Address</div>
            <div class="summary-row"><span>Labour:</span> <span id="s-lab">£0.00</span></div>
            <div class="summary-row"><span>Materials:</span> <span id="s-mat">£0.00</span></div>
            <div id="s-v-row" class="summary-row" style="display:none; color:#999;"><span>VAT (20%):</span> <span id="s-v-amt">£0.00</span></div>
            <div class="summary-row summary-total"><span>Total:</span> <span id="s-tot">£0.00</span></div>
            <hr style="margin:10px 0; border:0; border-top:1px solid #eee;">
            <div style="font-size:11px;">
                <b>Bank:</b> <span id="s-acc">---</span> | <b>Sort:</b> <span id="s-srt">---</span> | <b>No:</b> <span id="s-num">---</span>
            </div>
        </div>
        <button class="btn-main" id="copy-btn" onclick="copyQuote()">Copy for WhatsApp</button>
    </div>
</div>

<script>
    function save(k, v) { localStorage.setItem(k, v); }

    function updateSum() {
        // Calculation
        const h = parseFloat(document.getElementById('h').value) || 0;
        const r = parseFloat(document.getElementById('r').value) || 0;
        const m = parseFloat(document.getElementById('m').value) || 0;
        const sub = (h * r) + m;
        const isVat = document.getElementById('v-tog').checked;
        const vAmt = isVat ? (sub * 0.2) : 0;
        const total = sub + vAmt;

        const formattedTotal = '£' + total.toLocaleString('en-GB', {minimumFractionDigits: 2});
        document.getElementById('res').innerText = formattedTotal;

        // Update Summary Fields
        document.getElementById('s-biz').innerText = document.getElementById('biz-name').value || 'Business Name';
        document.getElementById('s-addr').innerText = document.getElementById('biz-addr').value || 'Address';
        document.getElementById('s-lab').innerText = '£' + (h * r).toLocaleString('en-GB', {minimumFractionDigits: 2});
        document.getElementById('s-mat').innerText = '£' + m.toLocaleString('en-GB', {minimumFractionDigits: 2});

<!DOCTYPE html>
<html lang="en-GB">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>toolboxpay - v12.1</title>
    <style>
        /* THEME & LAYOUT */
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; margin: 0; padding: 0; }
        html { scroll-behavior: smooth; }
        body { background: #4a4a4a; color: #fff; font-family: sans-serif; display: flex; flex-direction: column; align-items: center; min-height: 100vh; }
        
        /* STICKY HEADER */
        #dashboard-header { 
            position: sticky; top: 0; width: 100%; max-width: 420px; 
            background: #4a4a4a; padding: 15px 20px; z-index: 100; 
            border-bottom: 2px solid #ff6600; box-shadow: 0 10px 30px rgba(0,0,0,0.5);
        }
        .logo { text-align: center; font-size: 32px; font-weight: 900; letter-spacing: -2px; margin-bottom: 15px; }
        .logo .o { color: #ff6600; }
        .logo .w { color: #ffffff; }

        .tile-strip { display: flex; gap: 10px; overflow-x: auto; padding-bottom: 5px; -webkit-overflow-scrolling: touch; }
        .tile-strip::-webkit-scrollbar { display: none; }
        .jump-btn { background: #222; border: 1px solid #444; border-radius: 12px; padding: 10px; text-decoration: none; display: flex; flex-direction: column; align-items: center; min-width: 85px; }
        .jump-btn span { color: #ff6600; font-weight: 800; font-size: 10px; text-transform: uppercase; margin-top: 4px; }

        /* CONTENT CONTAINERS */
        #content-area { width: 100%; max-width: 420px; padding: 20px; }
        .section-box { background: #1e1e1e; border-radius: 25px; padding: 25px; border: 1px solid #333; margin-bottom: 80vh; box-shadow: 0 5px 15px rgba(0,0,0,0.5); }
        .section-title { color: #ff6600; font-size: 20px; font-weight: 900; text-transform: uppercase; margin-bottom: 20px; border-bottom: 2px solid #333; padding-bottom: 10px; }

        /* FORM STYLING */
        label { display: block; font-size: 11px; color: #ff6600; margin-bottom: 6px; font-weight: 800; text-transform: uppercase; letter-spacing: 1px; }
        input, textarea, select { width: 100%; background: #000; border: 1px solid #333; color: #fff; padding: 16px; border-radius: 12px; font-size: 15px; outline: none; margin-bottom: 20px; }
        .btn-green { width: 100%; background: #25D366; color: #000; padding: 20px; border: none; border-radius: 15px; font-weight: 900; text-transform: uppercase; cursor: pointer; font-size: 16px; }

        /* TEXT CONTENT */
        .info-card { background: #111; padding: 20px; border-radius: 15px; border-left: 4px solid #ff6600; margin-bottom: 20px; }
        .info-card h4 { color: #ff6600; font-size: 14px; margin-bottom: 10px; text-transform: uppercase; }
        .info-card p, .info-card li { font-size: 13px; color: #ccc; line-height: 1.6; margin-bottom: 10px; list-style: none; }
        .info-card b { color: #fff; }

        .total-box { background: #000; padding: 20px; border-radius: 15px; border: 1px solid #333; margin: 20px 0; text-align: right; }
        .total-val { font-size: 45px; color: #ff6600; font-weight: 900; }
    </style>
</head>
<body>

    <div id="dashboard-header">
        <div class="logo"><span class="o">toolbox</span><span class="w">pay</span></div>
        <div class="tile-strip">
            <a href="#r-box" class="jump-btn"><i>üìñ</i><span>ReadMe</span></a>
            <a href="#q-box" class="jump-btn"><i>üìù</i><span>Quotes</span></a>
            <a href="#c-box" class="jump-btn"><i>üë•</i><span>Clients</span></a>
            <a href="#m-box" class="jump-btn"><i>üßÆ</i><span>Calc</span></a>
            <a href="#p-box" class="jump-btn"><i>üì∏</i><span>Photos</span></a>
            <a href="#b-box" class="jump-btn"><i>üè¶</i><span>Profile</span></a>
        </div>
    </div>

    <div id="content-area">
        
        <div id="r-box" class="section-box">
            <div class="section-title">Operating Manual</div>
            
            <div class="info-card">
                <h4>üöÄ Professional Workflow</h4>
                <p>1. <b>On-Site:</b> Take "Before" photos in the Photo Gallery to document existing conditions.</p>
                <p>2. <b>Pricing:</b> Use the Calculator to include your material markup (20% recommended for small parts/fuel).</p>
                <p>3. <b>The Quote:</b> Select your Client, tick "Attach Terms", and send via WhatsApp. This creates a digital paper trail.</p>
            </div>

            <div class="info-card">
                <h4>‚öñÔ∏è Legal Protection</h4>
                <p>‚Ä¢ <b>Variations:</b> If the job changes, send a new "Mini-Quote" immediately. Never assume the client knows it costs extra.</p>
                <p>‚Ä¢ <b>Deposits:</b> Always request a material deposit for jobs over ¬£200. Use the Bank Setup to ensure your details are correct.</p>
                <p>‚Ä¢ <b>Completion:</b> Take "After" photos. If a payment dispute arises, you have time-stamped proof of work quality.</p>
            </div>

            <div class="info-card">
                <h4>üì± Mobile Setup</h4>
                <p>To use this like a real app, tap the "Share" or "Menu" button in your browser and select <b>"Add to Home Screen"</b>. This removes the browser bars and keeps your toolbox ready on your desktop.</p>
            </div>
        </div>

        <div id="q-box" class="section-box">
            <div class="section-title">Job Quote</div>
            <label>Select Client</label>
            <select id="q-cli-pick"><option>Loading clients...</option></select>
            
            <label>Work Description</label>
            <textarea id="qd" placeholder="Describe the labour... e.g. Full rewire of kitchen circuit" style="height:100px;"></textarea>
            
            <label>Price (¬£)</label>
            <input type="number" id="qp" oninput="upQ()">
            
            <div style="background:#111; padding:15px; border-radius:12px; margin-bottom:20px;">
                <input type="checkbox" id="tc-on" checked> <label for="tc-on" style="display:inline; color:#fff; font-size:12px;">Include Terms & Conditions</label>
            </div>

            <div class="total-box">
                <div class="total-val" id="qt">¬£0.00</div>
            </div>
            <button class="btn-green" onclick="sendW()">Send Quote via WhatsApp</button>
        </div>

        <div id="c-box" class="section-box">
            <div class="section-title">Client Records</div>
            <label>Full Name</label><input type="text" id="cn">
            <label>Site Address</label><textarea id="ca" style="height:60px;"></textarea>
            <label>Contact Number</label><input type="tel" id="ctel">
            <button class="btn-green" style="background:#ff6600; color:#fff;" onclick="saveC()">Save Client</button>
            <div id="cl-list" style="margin-top:20px;"></div>
        </div>

        <div id="m-box" class="section-box">
            <div class="section-title">Pricing Tool</div>
            <label>Day Rate (¬£)</label><input type="number" id="cr" oninput="upM()">
            <label>Days Required</label><input type="number" id="cd" oninput="upM()">
            <label>Materials (¬£)</label><input type="number" id="cm" oninput="upM()">
            <div class="total-box">
                <div class="total-val" id="mt">¬£0.00</div>
            </div>
        </div>

        <div id="p-box" class="section-box">
            <div class="section-title">Job Gallery</div>
            <label>Add Photos</label><input type="file" accept="image/*" multiple onchange="addP(this)">
            <div id="p-grid" style="display:grid; grid-template-columns:1fr 1fr; gap:10px;"></div>
        </div>

        <div id="b-box" class="section-box">
            <div class="section-title">Business & Legal</div>
            <label>Trading Name</label><input type="text" id="bn" oninput="sv('bn',this.value)">
            <label>Bank Sort Code</label><input type="text" id="sc" oninput="sv('sc',this.value)">
            <label>Account Number</label><input type="text" id="an" oninput="sv('an',this.value)">
            
            <label style="margin-top:20px;">Master Terms & Conditions</label>
            <textarea id="master-tc" style="height:150px;" oninput="sv('tc',this.value)">1. Quote valid for 30 days

<!DOCTYPE html>
<html lang="en-GB">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>toolboxpay v9.9</title>
    <style>
        /* MINIMALIST CSS: No graphical containers to prevent freezing */
        body { font-family: sans-serif; padding: 15px; background: white; color: black; line-height: 1.4; }
        .logo { color: #ff6600; font-weight: bold; font-size: 24px; text-align: center; margin-bottom: 20px; }
        .nav-link { display: block; padding: 20px; background: #eee; border: 1px solid #ccc; margin-bottom: 10px; text-decoration: none; color: #ff6600; font-weight: bold; border-radius: 5px; }
        .screen { display: none; }
        .active { display: block; }
        input, textarea, select { width: 100%; padding: 12px; margin: 10px 0; border: 1px solid #ccc; box-sizing: border-box; font-size: 16px; }
        .btn-action { width: 100%; padding: 15px; background: #ff6600; color: white; border: none; font-weight: bold; cursor: pointer; border-radius: 5px; margin-top: 10px; }
        .result { font-size: 24px; font-weight: bold; text-align: right; color: #ff6600; margin: 10px 0; }
        .box { border: 1px solid black; padding: 15px; margin-top: 10px; }
    </style>
</head>
<body>

<div class="logo">toolboxpay</div>

<div id="scr_1" class="screen active">
    <a href="javascript:void(0)" class="nav-link" onclick="sh('scr_2')">NEW QUOTE →</a>
    <a href="javascript:void(0)" class="nav-link" onclick="sh('scr_3'); lh();">HISTORY →</a>
    <a href="javascript:void(0)" class="nav-link" onclick="sh('scr_4')">BUSINESS SETUP →</a>
    <a href="javascript:void(0)" class="nav-link" onclick="sh('scr_5')">BANK DETAILS →</a>
</div>

<div id="scr_2" class="screen">
    <a href="javascript:void(0)" onclick="sh('scr_1')">← BACK</a>
    <input type="text" id="cn" placeholder="Customer Name">
    <input type="number" id="h" placeholder="Hours" oninput="ma()">
    <input type="number" id="r" placeholder="Rate" oninput="ma()">
    <input type="number" id="m" placeholder="Materials" oninput="ma()">
    <div id="out" class="result">£0.00</div>
    <button class="btn-action" onclick="sq()">SAVE QUOTE</button>
</div>

<div id="scr_3" class="screen">
    <a href="javascript:void(0)" onclick="sh('scr_1')">← BACK</a>
    <div id="h_list"></div>
</div>

<div id="scr_4" class="screen">
    <a href="javascript:void(0)" onclick="sh('scr_1')">← BACK</a>
    <label>Currency</label>
    <select id="cur" onchange="localStorage.setItem('cur', this.value)">
        <option value="£">GBP (£)</option>
        <option value="$">USD ($)</option>
        <option value="€">EUR (€)</option>
    </select>
    <input type="text" id="bn" placeholder="Business Name" oninput="localStorage.setItem('bn', this.value)">
    <textarea id="ba" placeholder="Address" oninput="localStorage.setItem('ba', this.value)"></textarea>
</div>

<div id="scr_5" class="screen">
    <a href="javascript:void(0)" onclick="sh('scr_1')">← BACK</a>
    <input type="text" id="b1" placeholder="Account Name" oninput="localStorage.setItem('b1', this.value)">
    <input type="text" id="b2" placeholder="Sort Code" oninput="localStorage.setItem('b2', this.value)">
    <input type="text" id="b3" placeholder="Account Number" oninput="localStorage.setItem('b3', this.value)">
    <input type="url" id="bl" placeholder="Payment Link" oninput="localStorage.setItem('bl', this.value)">
</div>

<div id="scr_6" class="screen">
    <a href="javascript:void(0)" onclick="sh('scr_3')">← BACK</a>
    <div id="vc" class="box"></div>
    <div id="pa"></div>
    <button class="btn-action" onclick="window.print()">PRINT / PDF</button>
</div>

<script>
    function sh(id) {
        var s = document.getElementsByClassName('screen');
        for(var i=0; i<s.length; i++) { s[i].style.display = 'none'; }
        document.getElementById(id).style.display = 'block';
        window.scrollTo(0,0);
    }

    function ma() {
        var cur = localStorage.getItem('cur') || '£';
        var h = Number(document.getElementById('h').value) || 0;
        var r = Number(document.getElementById('r').value) || 0;
        var m = Number(document.getElementById('m').value) || 0;
        document.getElementById('out').innerText = cur + ( (h*r)+m ).toFixed(2);
    }

    function sq() {
        var cur = localStorage.getItem('cur') || '£';
        var h = Number(document.getElementById('h').value) || 0;
        var r = Number(document.getElementById('r').value) || 0;
        var m = Number(document.getElementById('m').value) || 0;
        var t = (h*r)+m;
        var j = JSON.parse(localStorage.getItem('jobs') || '[]');
        j.unshift({id: Date.now(), n: document.getElementById('cn').value||'Client', t: cur+t.toFixed(2), d: new Date().toLocaleDateString('en-GB')});
        localStorage.setItem('jobs', JSON.stringify(j.slice(0,20)));
        sh('scr_1');
    }

    function lh() {
        var j = JSON.parse(localStorage.getItem('jobs') || '[]');
        document.getElementById('h_list').innerHTML = j.map(function(x)

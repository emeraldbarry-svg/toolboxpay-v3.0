<!DOCTYPE html>
<html lang="en-GB">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>toolboxpay v3.9</title>
    <style>
        :root { --org: #ff6600; --bg: #0b1521; --crd: #1a2635; }
        * { box-sizing: border-box; margin: 0; padding: 0; font-family: sans-serif; -webkit-tap-highlight-color: transparent; }
        body { background: var(--bg); color: #fff; display: flex; justify-content: center; min-height: 100vh; padding: 20px; }
        .shell { width: 100%; max-width: 380px; position: relative; }
        
        /* Logo & Header */
        .logo { text-align: center; margin-bottom: 30px; font-size: 30px; font-weight: 800; }
        .logo span { color: var(--org); }
        #back-btn { display: none; color: var(--org); border: 1px solid var(--org); background: none; padding: 12px; width: 100%; border-radius: 8px; margin-bottom: 25px; font-weight: 800; cursor: pointer; text-transform: uppercase; }

        /* Screen Management */
        .screen { display: none; animation: slideIn 0.2s ease-out; }
        @keyframes slideIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .active { display: block; }

        /* Dashboard Tiles */
        .tile { background: var(--crd); padding: 25px; border-radius: 12px; border: 1px solid #233554; cursor: pointer; display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; }
        .tile h3 { color: var(--org); text-transform: uppercase; font-size: 14px; letter-spacing: 1px; }
        .tile p { font-size: 12px; color: #8892b0; margin-top: 4px; }
        
        /* Forms */
        .tag { color: var(--org); font-size: 11px; font-weight: 800; text-transform: uppercase; margin: 25px 0 10px 0; border-bottom: 1px solid rgba(255,102,0,0.2); padding-bottom: 6px; }
        input, textarea { width: 100%; padding: 15px; background: var(--crd); border: 1px solid #233554; color: #fff; margin-bottom: 15px; border-radius: 8px; font-size: 16px; outline: none; }
        input:focus { border-color: var(--org); }
        textarea { height: 80px; resize: none; }

        /* Calculator UI */
        .vat-row { display: flex; justify-content: space-between; align-items: center; margin: 20px 5px; background: rgba(255,102,0,0.05); padding: 15px; border-radius: 8px; border: 1px solid rgba(255,102,0,0.2); }
        .total-box { border: 2px solid var(--org); padding: 22px; border-radius: 12px; display: flex; flex-direction: column; gap: 5px; margin-top: 20px; background: rgba(255,102,0,0.05); }
        .price { color: var(--org); font-size: 26px; font-weight: 800; text-align: right; }
        
        /* Buttons */
        .btn-main { width: 100%; padding: 18px; background: var(--org); border: none; color: white; border-radius: 8px; margin-top: 20px; cursor: pointer; font-weight: 800; text-transform: uppercase; }
        .btn-sec { width: 100%; padding: 12px; background: none; border: 1px solid #233554; color: #8892b0; border-radius: 8px; margin-top: 10px; cursor: pointer; font-size: 12px; }

        /* Summary Card (The White Invoice Look) */
        .summary-card { background: #fff; color: #333; padding: 25px; border-radius: 12px; margin-top: 10px; box-shadow: 0 10px 20px rgba(0,0,0,0.3); }
        .summary-card h2 { color: #000; font-size: 18px; margin-bottom: 4px; }
        .summary-address { font-size: 12px; color: #666; margin-bottom: 15px; border-bottom: 2px solid #eee; padding-bottom: 10px; white-space: pre-wrap; line-height: 1.4; }
        .summary-row { display: flex; justify-content: space-between; margin-bottom: 8px; font-size: 14px; }
    </style>
</head>
<body>

<div class="shell">
    <button id="back-btn" onclick="nav('dash')">← BACK TO DASHBOARD</button>
    <div class="logo"><span>toolbox</span>pay <small style="font-size: 10px; color: #8892b0;">v3.9</small></div>

    <div id="dash" class="screen active">
        <div class="tile" onclick="nav('calc')"><div><h3>Labour & Materials</h3><p>Calculate & quote</p></div><span>→</span></div>
        <div class="tile" onclick="nav('biz')"><div><h3>Business Details</h3><p>Company info & address</p></div><span>→</span></div>
        <div class="tile" onclick="nav('bank')"><div><h3>Bank Details</h3><p>Payment information</p></div><span>→</span></div>
    </div>

    <div id="calc" class="screen">
        <div class="tag">Costs</div>
        <input type="number" id="h" placeholder="Hours" oninput="math()" pattern="[0-9]*" inputmode="decimal">
        <input type="number" id="r" placeholder="Rate (£)" oninput="math()" pattern="[0-9]*" inputmode="decimal">
        <input type="number" id="m" placeholder="Materials (£)" oninput="math()" pattern="[0-9]*" inputmode="decimal">
        <div class="vat-row"><span>Add 20% VAT</span><input type="checkbox" id="v-tog" onchange="math()" style="width:24px; height:24px;"></div>
        <div class="total-box"><span style="font-size:12px;">TOTAL:</span><span id="res" class="price">£0.00</span></div>
        <button class="btn-main" onclick="gen()">View Summary</button>
        <button class="btn-sec" onclick="resetCalc()">Clear Figures</button>
    </div>

    <div id="summary" class="screen">
        <div class="summary-card">
            <h2 id="s-biz">Company Name</h2>
            <div id="s-addr" class="summary-address">Address</div>
            <div class="summary-row"><span>Labour:</span> <span id="s-lab">£0.00</span></div>
            <div class="summary-row"><span>Materials:</span> <span id="s-mat">£0.00</span></div>
            <div id="s-v-row" class="summary-row" style="display:none; color:#888;"><span>VAT (20%):</span> <span id="s-v-amt">£0.00</span></div>
            <div class="summary-row" style="border-top:2px solid #eee; margin-top:15px; padding-top:10px; font-weight:800; color:var(--org); font-size:18px;"><span>Total:</span> <span id="s-tot">£0.00</span></div>
            <div class="tag" style="color:#666; border-color:#eee; margin-top:20px;">Payment Details</div>
            <div class="summary-row" style="font-size:12px;"><span>Account:</span> <span id="s-acc">---</span></div>
            <div class="summary-row" style="font-size:12px;"><span>Sort Code:</span> <span id="s-srt">---</span></div>
            <div class="summary-row" style="font-size:12px;"><span>Account No:</span> <span id="s-num">---</span></div>
        </div>
        <button id="copy-btn" class="btn-main" onclick="copy()">Copy for WhatsApp</button>
        <button class="btn-main" style="background:#1a2635;" onclick="nav('calc')">Back to Edit</button>
    </div>

    <div id="biz" class="screen">
        <div class="tag">Company Info</div>
        <input type="text" id="biz-name" placeholder="Business Name" oninput="save('biz-name',this.value)">
        <textarea id="biz-addr" placeholder="Business Address" oninput="save('biz-addr',this.value)"></textarea>
        <button class="btn-main" onclick="nav('dash')">Save & Return</button>
    </div>

    <div id="bank" class="screen">
        <div class="tag">Bank Info</div>
        <input type="text" id="bank-acc" placeholder="Account Name" oninput="save('bank-acc',this.value)">
        <input type="text" id="bank-sort" placeholder="Sort Code" oninput="save('bank-sort',this.value)">
        <input type="text" id="bank-num" placeholder="Account Number" oninput="set('bank-num',this.value)">
        <button class="btn-main" onclick="nav('dash')">Save & Return</button>
    </div>
</div>

<script>
    // NAVIGATION
    function nav(id) {
        document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
        document.getElementById(id).classList.add('active');
        document.getElementById('back-btn').style.display = (id === 'dash') ? 'none' : 'block';
        window.scrollTo(0,0);
    }

    // LOCAL STORAGE
    function save(k, v) { localStorage.setItem(k, v); }

    // CALCULATOR LOGIC
    function math() {
        const h = parseFloat(document.getElementById('h').value) || 0;
        const r = parseFloat(document.getElementById('r').value) || 0;
        const m = parseFloat(document.getElementById('m').value) || 0;
        const sub = (h * r) + m;
        const v = document.getElementById('v-tog').checked ? (sub * 0.2) : 0;
        document.getElementById('res').innerText = '£' + (sub + v).toLocaleString('en-GB', {minimumFractionDigits: 2});
    }

    function resetCalc() {
        ['h','r','m'].forEach(id => document.getElementById(id).value = '');
        document.getElementById('v-tog').checked = false;
        math();
    }

    // SUMMARY GENERATOR
    function gen() {
        const h = parseFloat(document.getElementById('h').value) || 0;
        const r = parseFloat(document.getElementById('r').value) || 0;
        const m = parseFloat(document.getElementById('m').value) || 0;
        const sub = (h * r) + m;
        const isV = document.getElementById('v-tog').checked;
        const v = isV ? (sub * 0.2) : 0;
        
        document.getElementById('s-biz').innerText = localStorage.getItem('biz-name') || 'Quote';
        document.getElementById('s-addr').innerText = localStorage.getItem('biz-addr') || '';
        document.getElementById('s-lab').innerText = '£' + (h * r).toLocaleString('en-GB', {minimumFractionDigits: 2});
        document.getElementById('s-mat').innerText = '£' + m.toLocaleString('en-GB', {minimumFractionDigits: 2});
        document.getElementById('s-v-row').style.display = isV ? 'flex' : 'none';
        document.getElementById('s-v-amt').innerText = '£' + v.toLocaleString('en-GB', {minimumFractionDigits: 2});
        document.getElementById('s-tot').innerText = '£' + (sub + v).toLocaleString('en-GB', {minimumFractionDigits: 2});
        
        document.getElementById('s-acc').innerText = localStorage.getItem('bank-acc') || '---';
        document<!DOCTYPE html>
<html lang="en-GB">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>toolboxpay v3.8 - Emergency Reset</title>
    <style>
        :root { --org: #ff6600; --bg: #0b1521; --crd: #1a2635; }
        * { box-sizing: border-box; margin: 0; padding: 0; font-family: sans-serif; }
        body { background: var(--bg); color: #fff; padding: 20px; }
        .shell { max-width: 400px; margin: 0 auto; }
        .logo { text-align: center; margin-bottom: 30px; font-size: 30px; font-weight: 800; }
        .logo span { color: var(--org); }
        .section { background: var(--crd); border: 1px solid #233554; border-radius: 12px; padding: 20px; margin-bottom: 25px; }
        .tag { color: var(--org); font-size: 11px; font-weight: 800; text-transform: uppercase; margin-bottom: 15px; display: block; border-bottom: 1px solid rgba(255,102,0,0.2); padding-bottom: 5px; }
        input, textarea { width: 100%; padding: 12px; background: #0b1521; border: 1px solid #233554; color: #fff; margin-bottom: 12px; border-radius: 6px; font-size: 16px; }
        .btn-main { width: 100%; padding: 15px; background: var(--org); border: none; color: white; border-radius: 8px; cursor: pointer; font-weight: 800; text-transform: uppercase; }
        #res-box { border: 2px solid var(--org); padding: 15px; border-radius: 8px; text-align: right; background: rgba(255,102,0,0.05); margin-top: 10px; font-size: 24px; font-weight: 800; color: var(--org); }
    </style>
</head>
<body>

<div class="shell">
    <div class="logo"><span>toolbox</span>pay <small style="font-size: 10px; color: #8892b0;">v3.8</small></div>

    <div class="section">
        <span class="tag">Business Info</span>
        <input type="text" id="b-n" placeholder="Business Name" oninput="calc()">
        <textarea id="b-a" placeholder="Address" oninput="calc()"></textarea>
    </div>

    <div class="section">
        <span class="tag">Bank Info</span>
        <input type="text" id="acc" placeholder="Account Name" oninput="calc()">
        <input type="text" id="srt" placeholder="Sort Code" oninput="calc()">
        <input type="text" id="num" placeholder="Account Number" oninput="calc()">
    </div>

    <div class="section">
        <span class="tag">Labour & Materials</span>
        <input type="number" id="h" placeholder="Hours" oninput="calc()">
        <input type="number" id="r" placeholder="Rate (£)" oninput="calc()">
        <input type="number" id="m" placeholder="Materials (£)" oninput="calc()">
        <div style="display:flex; justify-content: space-between; align-items: center;">
            <span>Add 20% VAT</span>
            <input type="checkbox" id="v" onchange="calc()" style="width:20px; height:20px;">
        </div>
        <div id="res-box">£0.00</div>
        <button class="btn-main" style="margin-top:20px;" onclick="cp()">Copy Quote</button>
    </div>
</div>

<script>
    function calc() {
        const h = parseFloat(document.getElementById('h').value) || 0;
        const r = parseFloat(document.getElementById('r').value) || 0;
        const m = parseFloat(document.getElementById('m').value) || 0;
        let tot = (h * r) + m;
        if(document.getElementById('v').checked) tot *= 1.2;
        document.getElementById('res-box').innerText = '£' + tot.toLocaleString('en-GB', {minimumFractionDigits: 2});
        
        // Save fields
        const f = ['b-n', 'b-a', 'acc', 'srt', 'num'];
        f.forEach(id => localStorage.setItem(id, document.getElementById(id).value));
    }

    function cp() {
        const text = `${document.getElementById('b-n').value}\nTotal: ${document.getElementById('res-box').innerText}\nBank: ${document.getElementById('acc').value} / ${document.getElementById('srt').value} / ${document.getElementById('num').value}`;
        navigator.clipboard.writeText(text).then(() => alert('Copied!'));
    }

    window.onload = function() {
        ['b-n', 'b-a', 'acc', 'srt', 'num'].forEach(id => {
            document.getElementById(id).value = localStorage.getItem(id) || '';
        });
        calc();
    }
</script>

</body>
</html><!DOCTYPE html>
<html lang="en-GB">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>toolboxpay v3.7 - Flat Build</title>
    <style>
        :root { --org: #ff6600; --bg: #0b1521; --crd: #1a2635; }
        * { box-sizing: border-box; margin: 0; padding: 0; font-family: sans-serif; }
        body { background: var(--bg); color: #fff; padding: 20px; line-height: 1.6; }
        .shell { max-width: 400px; margin: 0 auto; }
        .logo { text-align: center; margin-bottom: 30px; font-size: 30px; font-weight: 800; }
        .logo span { color: var(--org); }
        
        /* Section Styling */
        .section { background: var(--crd); border: 1px solid #233554; border-radius: 12px; padding: 20px; margin-bottom: 25px; }
        .tag { color: var(--org); font-size: 11px; font-weight: 800; text-transform: uppercase; margin-bottom: 15px; display: block; border-bottom: 1px solid rgba(255,102,0,0.2); padding-bottom: 5px; }
        
        input, textarea { width: 100%; padding: 12px; background: #0b1521; border: 1px solid #233554; color: #fff; margin-bottom: 12px; border-radius: 6px; font-size: 16px; outline: none; }
        input:focus { border-color: var(--org); }
        
        .vat-row { display: flex; justify-content: space-between; align-items: center; margin: 10px 0; }
        .total-box { border: 2px solid var(--org); padding: 15px; border-radius: 8px; text-align: right; background: rgba(255,102,0,0.05); margin-top: 10px; }
        .price { color: var(--org); font-size: 24px; font-weight: 800; display: block; }
        
        .btn-main { width: 100%; padding: 15px; background: var(--org); border: none; color: white; border-radius: 8px; cursor: pointer; font-weight: 800; text-transform: uppercase; margin-top: 10px; }
        
        .summary-box { background: #fff; color: #333; padding: 20px; border-radius: 8px; margin-top: 15px; font-size: 14px; }
        .summary-row { display: flex; justify-content: space-between; margin-bottom: 5px; }
        .summary-total { border-top: 2px solid #eee; margin-top: 10px; padding-top: 10px; font-weight: 800; color: var(--org); font-size: 18px; }
    </style>
</head>
<body>

<div class="shell">
    <div class="logo"><span>toolbox</span>pay <small style="font-size: 10px; color: #8892b0;">v3.7</small></div>

    <div class="section">
        <span class="tag">Business Details</span>
        <input type="text" id="biz-name" placeholder="Business Name" oninput="save('biz-name', this.value); updateSum()">
        <textarea id="biz-addr" placeholder="Address" oninput="save('biz-addr', this.value); updateSum()"></textarea>
    </div>

    <div class="section">
        <span class="tag">Bank Details</span>
        <input type="text" id="bank-acc" placeholder="Account Name" oninput="save('bank-acc', this.value); updateSum()">
        <input type="text" id="bank-sort" placeholder="Sort Code" oninput="save('bank-sort', this.value); updateSum()">
        <input type="text" id="bank-num" placeholder="Account Number" oninput="save('bank-num', this.value); updateSum()">
    </div>

    <div class="section">
        <span class="tag">Labour & Materials</span>
        <input type="number" id="h" placeholder="Hours" oninput="updateSum()">
        <input type="number" id="r" placeholder="Rate (£)" oninput="updateSum()">
        <input type="number" id="m" placeholder="Materials (£)" oninput="updateSum()">
        <div class="vat-row">
            <span>Add 20% VAT</span>
            <input type="checkbox" id="v-tog" onchange="updateSum()" style="width:20px; height:20px;">
        </div>
        <div class="total-box">
            <span style="font-size:10px; color:#8892b0;">ESTIMATED TOTAL:</span>
            <span id="res" class="price">£0.00</span>
        </div>
    </div>

    <div class="section">
        <span class="tag">Final Quote Summary</span>
        <div class="summary-box">
            <b id="s-biz">Business Name</b>
            <div id="s-addr" style="font-size:12px; color:#666; margin-bottom:10px;">Address</div>
            <div class="summary-row"><span>Labour:</span> <span id="s-lab">£0.00</span></div>
            <div class="summary-row"><span>Materials:</span> <span id="s-mat">£0.00</span></div>
            <div id="s-v-row" class="summary-row" style="display:none; color:#999;"><span>VAT (20%):</span> <span id="s-v-amt">£0.00</span></div>
            <div class="summary-row summary-total"><span>Total:</span> <span id="s-tot">£0.00</span></div>
            <hr style="margin:10px 0; border:0; border-top:1px solid #eee;">
            <div style="font-size:11px;">
                <b>Bank:</b> <span id="s-acc">---</span> | <b>Sort:</b> <span id="s-srt">---</span> | <b>No:</b> <span id="s-num">---</span>
            </div>
        </div>
        <button class="btn-main" id="copy-btn" onclick="copyQuote()">Copy for WhatsApp</button>
    </div>
</div>

<script>
    function save(k, v) { localStorage.setItem(k, v); }

    function updateSum() {
        // Calculation
        const h = parseFloat(document.getElementById('h').value) || 0;
        const r = parseFloat(document.getElementById('r').value) || 0;
        const m = parseFloat(document.getElementById('m').value) || 0;
        const sub = (h * r) + m;
        const isVat = document.getElementById('v-tog').checked;
        const vAmt = isVat ? (sub * 0.2) : 0;
        const total = sub + vAmt;

        const formattedTotal = '£' + total.toLocaleString('en-GB', {minimumFractionDigits: 2});
        document.getElementById('res').innerText = formattedTotal;

        // Update Summary Fields
        document.getElementById('s-biz').innerText = document.getElementById('biz-name').value || 'Business Name';
        document.getElementById('s-addr').innerText = document.getElementById('biz-addr').value || 'Address';
        document.getElementById('s-lab').innerText = '£' + (h * r).toLocaleString('en-GB', {minimumFractionDigits: 2});
        document.getElementById('s-mat').innerText = '£' + m.toLocaleString('en-GB', {minimumFractionDigits: 2});
